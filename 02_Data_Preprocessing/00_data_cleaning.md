# 資料清理（Data Cleaning）

資料清理是機器學習中關鍵的前處理步驟，直接影響模型效能與準確率。

---

## 缺失值處理（Missing Values）

### 常見情況：
- 數值缺漏 (`NaN`)
- 無資料欄位或空字串

### 處理方法：
| 方法         | 說明                                 |
|--------------|--------------------------------------|
| 刪除資料     | 適用於資料缺失比例很低的情況         |
| 補平均數     | 針對數值型欄位，用平均/中位數填補     |
| 填入特定值   | 如填 `0`、`unknown`、`None` 等         |
| 使用模型預測 | 利用其他欄位建立模型預測缺失值         |

---

## 異常值處理（Outliers）

### 定義：
與其他資料差異過大的數值，可能是錯誤或極端現象

### 偵測方法：
- 統計法（如 Z-score、IQR）
- 可視化（Box plot、散佈圖）

### 處理方式：
| 方法         | 說明                                 |
|--------------|--------------------------------------|
| 刪除         | 移除異常資料                         |
| 替代         | 用平均數、中位數等代替               |
| 設限         | 設定上下限截斷極端值                 |

---

## 重複資料處理（Duplicates）

### 偵測方式：
- 使用 `pandas.DataFrame.duplicated()` 檢查重複列

### 處理方法：
```python
df = df.drop_duplicates()
```

---

## 不一致格式與錯誤類型處理

### 問題例子：
- 類別名稱不一致（如 Male / male / M）
- 數據單位混用（如 kg 與 lbs）

### 處理方法：
- 將類別值統一為一致格式
- 將單位統一並轉換

---

## 工具（以 pandas 為例）

```python
import pandas as pd

# 缺失值
df.isnull().sum()
df.dropna()
df.fillna(value=0)

# 異常值（範例：IQR）
Q1 = df['col'].quantile(0.25)
Q3 = df['col'].quantile(0.75)
IQR = Q3 - Q1
df = df[~((df['col'] < Q1 - 1.5*IQR) | (df['col'] > Q3 + 1.5*IQR))]

# 重複值
df.duplicated().sum()
df = df.drop_duplicates()
```